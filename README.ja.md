# 立体切断シミュレーター (Rittai Setsudan)

中学受験算数の難所である「立体の切断」を、ブラウザ上で直感的に理解するための学習支援ツールです。

## 概要

このアプリは、立方体や直方体の辺上に自由に点を打ち、その3点を通る平面で切断した時の「切り口」や「残った立体」をリアルタイムで確認できるシミュレーターです。黒板や紙の上だけではイメージしづらい空間図形の問題を、動かして確認することでサポートします。

## 主な機能

*   **直感的な操作:** 立体の辺をクリックするだけで切断点（I, J, K）を選択できます。
*   **リアルタイム切断:** 3点を選ぶと瞬時に切断が行われ、断面（赤色）と切り取られた部分が表示されます。
*   **サイズ設定:** 問題に合わせて、直方体の縦・横・高さを自由に変更できます（例: 6cm × 6cm × 6cm など）。
*   **詳細な情報表示:**
    *   頂点ラベル（A〜H）の表示/非表示
    *   辺の長さの表示（常時表示、またはマウスオーバー時のポップアップ表示）
*   **視認性の向上:**
    *   切断面の表示/非表示切り替え
    *   切り取られた部分（三角錐など）の表示/非表示切り替え
    *   直方体を半透明にして内部を確認

## 使い方

1.  依存関係をインストールします: `npm install`
2.  TypeScript のビルドを実行します: `npm run build`
3.  `index.html` をブラウザで開きます。
4.  **点の選択:** 立方体の辺をクリックして、切断したい位置に点を打ちます。
5.  **切断:** 3点目が打たれると、自動的に切断処理が実行されます。
6.  **視点操作:**
    *   **回転:** 左クリック ドラッグ
    *   **拡大縮小:** マウスホイール / ピンチ操作
    *   **移動:** 右クリック ドラッグ
7.  **サイドバー:** 左側のアイコンからプリセット/学習/設定パネルを開きます。
8.  **アクション:** 下部のボタンで切断反転・展開図・リセットを実行します。

## 技術スタック

*   JavaScript (ES Modules)
*   [Three.js](https://threejs.org/) - 3D描画ライブラリ
*   [three-bvh-csg](https://github.com/gkjohnson/three-bvh-csg) - 立体演算（CSG）ライブラリ

## ライセンス

MIT License
