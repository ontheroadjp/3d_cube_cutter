# SnapPoint ID 命名規則 設計書

Status: Superseded
Summary: 置き換え先は docs/technical/specification/snap_point_id_spec.md


本ドキュメントは、立体切断シミュレーターにおいて
すべてのスナップポイントを一意かつ構造的に表現するための
SnapPoint ID 命名規則を定義する。

## 設計原則

- 構造が一目で分かること
- 座標情報を含めないこと
- 教育的説明に変換可能であること
- 同一構造は必ず同一IDになること

## SnapPoint ID 基本構造

- 種別と内容をコロンで区切る
- 形式は Kind:Body

## 頂点 SnapPoint ID

- 形式 V:頂点インデックス
- 例
  - V:0
  - V:1
  - V:7

## 辺上 SnapPoint ID

### 基本形式

- E:辺インデックス@比率

### 辺ラベルの正規化

- 頂点インデックスを昇順に並べる
- 01 と 10 は同一とみなす

### 比率表現

- 有理数で表現する
- 分数形式を必須とする
- 端点は `0/1` または `1/1` として表す

### 例

- 辺01の中点
  E:01@1/2
- 辺23の 1/3 点
  E:23@1/3
- 辺56の 3/4 点
  E:56@3/4

## 内部保持形式

- 比率は numerator と denominator で保持
- SnapPointID 生成時に文字列化

## 将来拡張予約

- 面上の点を表す SnapPoint ID
- 現段階では未使用だが拡張可能性を残す

### 面中心 SnapPoint ID（拡張）

- 形式 F:面インデックス@center
- 面インデックスは頂点インデックスを連結したもの（例: 0123）
- 例
  - 面0123の中心
    F:0123@center

## 教育ツールとしての利点

- SnapPointID から日本語説明を自動生成可能
- 問題文と内部構造の完全一致
- 頻出パターン分類が可能

## 採用効果

- 浮動小数誤差の排除
- 重複判定の単純化
- Preset の完全構造化
- 解説生成機能の基盤確立
