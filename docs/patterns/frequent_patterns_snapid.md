# docs/patterns/frequent_patterns_snapid.md

Status: Active

# 中学受験算数: 立体切断頻出パターン (SnapPointID付き)

## 1. 目的
本ドキュメントの上位方針は `docs/architecture/education_engine_integrated_design.md` に準拠する。
本ドキュメントは、中学受験算数で頻出する立方体・直方体の切断パターンを、教育ツール用に SnapPointID を付与して整理したものです。
Cutter / SelectionManager / PresetManager と統合し、切断パターンを自動生成・解説する際に使用できます。

---

## 2. SnapPointIDルール復習

- **頂点 (Vertex)**: `V:<インデックス>`
  例: `V:0`、`V:1`、`V:7`
- **辺上点 (Edge)**: `E:<頂点1><頂点2>@<比率>`
  例: `E:01@1/2`（0–1 辺の中点）
- **面中心 (FaceCenter)**: `F:<頂点1><頂点2><頂点3><頂点4>@center`
  例: `F:0123@center`

---

## 3. 頻出パターン一覧

### 3.1 三角形切断 (頂点3つ)
- **説明**: 立方体の頂点3つを通る単純な三角形切断
- **SnapPointID**: `[V:0, V:1, V:2]`
- **特徴**: 三角形面積の計算練習に最適
- **解説ヒント**: 3頂点を結ぶ3本の辺が切断面

### 3.2 三角形切断 (頂点1 + 2辺上)
- **説明**: 1頂点と2つの辺上点を通る三角形
- **SnapPointID**: `[V:0, E:12@1/2, E:34@1/2]`
- **特徴**: 辺上比率と面積の関係理解
- **解説ヒント**: 辺上点の位置比率に注目

### 3.3 四角形切断 (4頂点)
- **説明**: 立方体の4つの頂点を通る四角形切断
- **SnapPointID**: `[V:0, V:1, V:5, V:4]`
- **特徴**: 平行四辺形や台形の面積計算の演習に適合
- **解説ヒント**: 隣接する辺を結ぶ順序に注意

### 3.4 台形切断 (2頂点 + 2辺上)
- **説明**: 2頂点 + 2辺上の点による台形状切断
- **SnapPointID**: `[V:0, V:1, E:47@3/10, E:56@7/10]`
- **特徴**: 切断面形状の変化、辺比率の学習
- **解説ヒント**: 台形の上底・下底を意識

### 3.5 直角三角形切断
- **説明**: 直角を含む三角形切断
- **SnapPointID**: `[V:0, V:1, E:23@1/2]`
- **特徴**: ピタゴラスを利用した面積計算演習
- **解説ヒント**: 直角の位置を特定して計算

### 3.6 上底が面中心の四角形切断
- **説明**: 上底を面中心とする切断
- **SnapPointID**: `[F:0123@center, V:4, E:56@1/2, V:7]`
- **特徴**: 面中心を切断点に使うパターン
- **解説ヒント**: 中心点を通る平面が四角形を形成

---

## 4. 使用方法
1. `PresetManager` のプリセットとして登録
2. `Cube` 上で SnapPointID に対応する座標を自動取得
3. `Cutter.cut()` に渡して切断シミュレーション
4. `explanation_templates.md` と連動して自動解説表示

---

## 5. 教育的ポイント
- 頂点・辺上・面中心の違いを可視化
- 面積・辺長・形状の理解を強化
- 頻出パターンを通じて、計算問題への応用力を向上
